# Face Emotion Detection Project Implementation Plan

## Goal Description
Create a complete, production-ready Face Emotion Detection project using Python, OpenCV, and TensorFlow. The project will include real-time emotion detection via webcam, a training script for a CNN model, and a testing script for static images.

## User Review Required
> [!IMPORTANT]
> The project requires a dataset to train the model. I will create the folder structure, but the user must populate `dataset/train` and `dataset/test` with images for the 7 emotions (angry, disgust, fear, happy, sad, surprise, neutral) before running `train_model.py`. The `app.py` and `test_image.py` will fail if the model is not trained or found.

## Proposed Changes

### Configuration
#### [NEW] [requirements.txt](file:///C:/Users/RAJAGANAPATHY/face%20emotion%20ai/Face_Emotion_Detection/requirements.txt)
- opencv-python
- tensorflow
- keras
- numpy
- matplotlib
- pillow

#### [NEW] [.gitignore](file:///C:/Users/RAJAGANAPATHY/face%20emotion%20ai/Face_Emotion_Detection/.gitignore)
- Ignore `models/`, `__pycache__/`, `dataset/` (optional, but good practice if large), `venv/`.

#### [NEW] [README.md](file:///C:/Users/RAJAGANAPATHY/face%20emotion%20ai/Face_Emotion_Detection/README.md)
- Instructions for setup, training, and running.

### Application Logic
#### [NEW] [train_model.py](file:///C:/Users/RAJAGANAPATHY/face%20emotion%20ai/Face_Emotion_Detection/train_model.py)
- **Model**: CNN with Conv2D, MaxPooling2D, Dropout, Dense layers.
- **Input**: 48x48 grayscale images.
- **Output**: 7 classes (Softmax).
- **Training**: ImageDataGenerator for augmentation.
- **Saving**: Saves to `models/emotion_model.h5`.

#### [NEW] [app.py](file:///C:/Users/RAJAGANAPATHY/face%20emotion%20ai/Face_Emotion_Detection/app.py)
- **Face Detection**: Haar Cascade (auto-download if missing).
- **Model Loading**: Load `models/emotion_model.h5`.
- **Inference**: Predict emotion for each detected face.
- **Display**: Draw bounding box and label on video feed.

#### [NEW] [test_image.py](file:///C:/Users/RAJAGANAPATHY/face%20emotion%20ai/Face_Emotion_Detection/test_image.py)
- Load image, detect face, predict emotion, print result.

## Verification Plan
### Automated Tests
- No unit tests requested, but I will verify that scripts run and handle missing files gracefully.
- `app.py` will have a check for the model file and haarcascade file.

### Manual Verification
1.  **Setup**: Install requirements.
2.  **Dataset**: User puts images in `dataset/`.
3.  **Training**: Run `python train_model.py`. Verify `models/emotion_model.h5` is created.
4.  **Real-time** Run `python app.py`. Verify webcam opens and detects faces (even if prediction is random without training).
5.  **Test Image**: Run `python test_image.py`.
